@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* 防止文本溢出屏幕 */
.article-content,
.prose {
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-word;
}

/* 确保链接和长单词也能正确换行 */
.article-content a,
.prose a {
  word-break: break-all;
}

/* 确保图片不超出容器 */
.article-content img,
.prose img {
  max-width: 100%;
  height: auto;
}

/* 确保代码块可以水平滚动而不是溢出 */
.article-content pre,
.prose pre {
  overflow-x: auto;
  max-width: 100%;
}

/* 确保表格在移动端可以水平滚动 */
.article-content table,
.prose table {
  display: block;
  overflow-x: auto;
  max-width: 100%;
}

/* 确保 iframe（包括 YouTube 播放器）保持 16:9 比例且不会超出屏幕 */
iframe {
  max-width: 100% !important;
  width: 100% !important;
  aspect-ratio: 16 / 9 !important;
  height: auto !important;
  box-sizing: border-box !important;
}

/* 为 YouTube iframe 创建响应式容器 */
.article-content iframe[src*="youtube.com"],
.article-content iframe[src*="youtu.be"],
.prose iframe[src*="youtube.com"],
.prose iframe[src*="youtu.be"] {
  aspect-ratio: 16 / 9 !important;
  width: 100% !important;
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
}

/* 确保隐藏的 YouTube 播放器容器不会影响布局 */
.youtube-player-container {
  max-width: 1px !important;
  max-height: 1px !important;
  width: 1px !important;
  height: 1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
}

.youtube-player-container iframe {
  max-width: 1px !important;
  max-height: 1px !important;
  width: 1px !important;
  height: 1px !important;
  min-width: 0 !important;
  min-height: 0 !important;
  overflow: hidden !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
}

/* Toast 动画 */
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* YouTube 音频播放器滑块样式 */
input[type="range"].slider {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
}

input[type="range"].slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #4f46e5; /* indigo-600 */
  cursor: pointer;
  transition: all 0.2s;
}

input[type="range"].slider::-webkit-slider-thumb:hover {
  background: #4338ca; /* indigo-700 */
  transform: scale(1.1);
}

input[type="range"].slider::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #4f46e5; /* indigo-600 */
  cursor: pointer;
  border: none;
  transition: all 0.2s;
}

input[type="range"].slider::-moz-range-thumb:hover {
  background: #4338ca; /* indigo-700 */
  transform: scale(1.1);
}

/* 音量滑块样式 */
input[type="range"]:not(.slider) {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
}

input[type="range"]:not(.slider)::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #4f46e5; /* indigo-600 */
  cursor: pointer;
  transition: all 0.2s;
}

input[type="range"]:not(.slider)::-webkit-slider-thumb:hover {
  background: #4338ca; /* indigo-700 */
}

input[type="range"]:not(.slider)::-moz-range-thumb {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #4f46e5; /* indigo-600 */
  cursor: pointer;
  border: none;
  transition: all 0.2s;
}

input[type="range"]:not(.slider)::-moz-range-thumb:hover {
  background: #4338ca; /* indigo-700 */
}

/* 暗色主题下的滑块样式 */
@media (prefers-color-scheme: dark) {
  input[type="range"].slider::-webkit-slider-thumb,
  input[type="range"]:not(.slider)::-webkit-slider-thumb {
    background: #6366f1; /* indigo-500 */
  }

  input[type="range"].slider::-webkit-slider-thumb:hover,
  input[type="range"]:not(.slider)::-webkit-slider-thumb:hover {
    background: #4f46e5; /* indigo-600 */
  }

  input[type="range"].slider::-moz-range-thumb,
  input[type="range"]:not(.slider)::-moz-range-thumb {
    background: #6366f1; /* indigo-500 */
  }

  input[type="range"].slider::-moz-range-thumb:hover,
  input[type="range"]:not(.slider)::-moz-range-thumb:hover {
    background: #4f46e5; /* indigo-600 */
  }
}
